<%= render Templates::ListTemplateComponent.new(
    breadcrumb: [
      {label: "Projects", path: projects_path},
      { label: @project.name, path: project_path(@project)},
      {label: "Sites", path: project_sites_path(@project)}
    ],
    header: {
      items: @project,
      title: "Projects",
      actions: [
        component_proc: ->(project) {
            Library::ButtonComponent.new(
              label: "Create Site",
              path: new_project_site_path(project),
              variant: :primary
            )
          }
      ]
  },
  table: {
    items: @sites, 
    pagy: @pagy,
    columns: [ 
    {
      label: "ID", 
      accessor: :id, 
    }, 
    {
      label: "Name", 
      accessor: :name,
    }, 
    {
      label: "Project ID", 
      accessor: :project_id
    }
    ],
    actions: [
    {
      label: "View",
      path_proc: ->(site) {project_site_path(site.project_id, site)}
    }, 
    {
      label: "Edit",
      path_proc: ->(site) {edit_project_site_path(site.project_id, site)}
    }, 
    {
      label: "Delete",
      path_proc: ->(site) {project_site_path(site.project_id, site)},
      variant: :link_danger,
      data: { turbo_confirm: "Are you sure?", turbo_method: :delete }
    }
  ]
  }
)%>