<section class="p-4">
  <div class="flex flex-wrap justify-between items-center px-6 py-4 mb-6">
    <h2 class="text-xl font-semibold text-gray-800"> <%= @header %> </h2>
    <div class="px-4 py-2 font-medium text-center text-white bg-indigo-400 rounded-lg border w-1/8 hover:bg-indigo-500">
      <%= link_to "Create Project", new_project_path %>
    </div>
  </div>

  <div class="rounded-xl border border-slate-300">
    <%# Header %>
    <div class="flex px-6 py-4 font-bold text-gray-800 rounded-t-xl border-slate-200">
      <% @columns.each_with_index do |col, index| %>
        <% width_class =
          if col[:custom_render]
            "w-1/6"
          elsif index == 0
            "w-1/6"
          else
            "flex-1"
          end
        %>
        <div class="pl-4 <%= width_class %>"> <%= col[:label] %> </div>
      <% end %>
    </div>

    <%# Rows %>
    <% @items.each do |item| %>
      <div class="flex justify-between px-6 py-1 text-gray-800 border-t border-slate-200">
        <% @columns.each_with_index do |col, index| %>
          <% width_class =
            if col[:custom_render]
              "w-1/6"
            elsif index == 0
              "w-1/6"
            else
              "flex-1"
            end
          %>
          <div class="px-4 py-2 <%= width_class %>">
            <% if col[:custom_render] %>
              <% @actions.each do |action| %>
                <%= link_to action[:label], action[:path_proc].call(item), action[:html_options] || {} %>
              <% end %>
            <% else %>
              <%= item.send(col[:accessor]) %>
            <% end %>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
</section>